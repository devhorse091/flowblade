datasource db {
  provider = "sqlserver"
  url      = env("DB_FLOWBLADE_SQLSERVER_JDBC")
  schemas  = ["common", "user"]
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema", "views"]
  output          = "../src/generated/client"
}

generator kysely {
  provider = "prisma-kysely"

  // Optionally provide a destination directory for the generated file
  // and a filename of your choice
  output       = "../src/generated"
  fileName     = "kysely.ts"
  // Optionally generate runtime enums to a separate file
  enumFileName = "kysely.enums.ts"
}

model Currency {
  id               Int       @id @default(autoincrement())
  code             String?   @unique() @db.VarChar(3)
  name             String?   @unique() @db.VarChar(40)
  name_plural      String?   @unique() @db.VarChar(40)
  symbol           String?   @db.VarChar(5)
  symbol_native    String?   @db.VarChar(5)
  rounding         Int?      @default(2) @db.SmallInt
  display_decimals Int?      @default(2) @map(name: "display_decimals") @db.SmallInt
  createdAt        DateTime  @map(name: "created_at") @db.DateTime2
  updatedAt        DateTime? @map(name: "updated_at") @db.DateTime2
  withdrawalAt     DateTime? @map(name: "withdrawal_at") @db.DateTime2

  @@map(name: "currency")
  @@schema("common")
}
